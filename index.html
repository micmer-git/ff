<!DOCTYPE html><html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>futuro fortissimo â€“ explorer</title>  <!-- Google Sans & Tailwind -->  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Google+Sans:wght@400;500;700&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com?plugins=typography"></script>
  <script>
    tailwind.config={theme:{extend:{fontFamily:{sans:['"Google Sans"','Roboto','ui-sans-serif']},colors:{ioBg:'#F6F9FE'},boxShadow:{neu:'4px 4px 8px rgba(0,0,0,.06)'}}}}
  </script>
  <style>
    body{background:#F6F9FE}
    mark{background:#FFEB3B66;padding:0 2px;border-radius:3px}
    .pill,.tag{background:#fff;box-shadow:0 1px 4px rgba(0,0,0,.1);padding:2px 10px;border-radius:9999px;user-select:none;transition:.15s}
    .pill{cursor:pointer;font-size:1rem}.pill.active{outline:2px solid #38bdf8}
    .tag{font-size:0.9rem;margin-right:4px;margin-top:4px}
  </style>
</head>
<body class="font-sans text-gray-800 antialiased text-[15px] sm:text-sm">
  <!-- Header -->
  <header class="py-4">
    <div class="max-w-3xl mx-auto flex items-center justify-center gap-3 px-4">
      <img src="logo.png" class="h-8" alt="logo" />
      <h1 class="italic lowercase text-2xl sm:text-3xl font-semibold">futuro fortissimo</h1>
    </div>
  </header>  <!-- Search & Filters -->  <section class="max-w-3xl mx-auto px-4 space-y-6">
    <div class="relative">
      <input id="searchInput" placeholder="cercaâ€¦" class="w-full rounded-full py-2 pl-11 pr-4 bg-white shadow-neu focus:outline-none focus:ring-2 focus:ring-sky-400 text-base sm:text-lg" />
      <span class="absolute left-4 top-1/2 -translate-y-1/2 text-lg">ğŸ”</span>
    </div>
    <div id="filterRow" class="flex flex-wrap justify-center gap-2 text-xl sm:text-2xl">
      <span class="pill" data-filter="ğŸ’»">ğŸ’»</span><span class="pill" data-filter="ğŸƒ">ğŸƒ</span><span class="pill" data-filter="â¤ï¸">â¤ï¸</span>
      <span class="pill" data-filter="ğŸ’¸">ğŸ’¸</span><span class="pill" data-filter="âš½">âš½</span><span class="pill" data-filter="ğŸ½">ğŸ½</span>
      <span class="pill" data-filter="ğŸ§ ">ğŸ§ </span><span class="pill" data-filter="ğŸ’Š">ğŸ’Š</span><span class="pill" data-filter="ğŸ¨">ğŸ¨</span>
      <span class="pill" data-filter="ğŸš•">ğŸš•</span><span class="pill" data-filter="ğŸ¥½">ğŸ¥½</span><span class="pill" data-filter="ğŸ‘¥">ğŸ‘¥</span><span class="pill" data-filter="ğŸ’†">ğŸ’†</span>
    </div>
  </section>  <!-- Publications -->  <main id="app" class="max-w-3xl mx-auto px-4 pb-44 space-y-10 mt-10"></main>  <footer class="fixed bottom-0 inset-x-0 flex items-center justify-center gap-4 py-3 text-sm bg-ioBg/95 backdrop-blur">
    <button onclick="window.open('https://buymeacoffee.com/tuo_link','_blank')" class="pill text-base">â˜• sostieni</button>
    <button onclick="window.open('https://fortissimo.substack.com/about','_blank')" class="pill text-base">ğŸ‘¤ chi sono</button>
  </footer><script>
const DATA_ENDPOINT='./newsletter_data.json';
let DATA;const filters=new Set();
const gradients=[
  'linear-gradient(135deg,#38bdf8,#c084fc)',
  'linear-gradient(135deg,#f472b6,#facc15)',
  'linear-gradient(135deg,#34d399,#60a5fa)',
  'linear-gradient(135deg,#f87171,#fb923c)',
  'linear-gradient(135deg,#a78bfa,#f472b6)',
  'linear-gradient(135deg,#fb923c,#fde68a)',
  'linear-gradient(135deg,#5eead4,#3b82f6)',
  'linear-gradient(135deg,#fda4af,#c4b5fd)'
];

document.querySelectorAll('.pill').forEach(p=>p.onclick=()=>{const v=p.dataset.filter;p.classList.toggle('active');filters.has(v)?filters.delete(v):filters.add(v);render();});
document.getElementById('searchInput').oninput=render;
fetch(DATA_ENDPOINT).then(r=>r.json()).then(j=>{DATA=j;render();});

const match=(t,term)=>t.toLowerCase().includes(term);
const hl=(t,term)=>term?t.replace(new RegExp(`(${term})`,'gi'),'<mark>$1</mark>'):t;

function render(){
 const term=document.getElementById('searchInput').value.toLowerCase();
 const activeSearch=term.length>0, activeFilter=filters.size>0;
 const wrap=document.getElementById('app');wrap.innerHTML='';
 DATA.publications.forEach((pub,idx)=>{
   const visibleSC=pub.cards.filter(sc=>!sc.title.startsWith('ğŸ“–')).filter(sc=>{
     const tagOK=!activeFilter||sc.tags?.some(t=>filters.has(t));
     const searchOK=!activeSearch||match(sc.title,term)||sc.contentBlocks.some(b=>b.content.some(l=>match(l,term)));
     return tagOK&&searchOK;
   });
   if((activeSearch||activeFilter)&&!visibleSC.length) return;

   const card=document.createElement('div');card.className='rounded-[1.2rem] overflow-hidden';card.style.background=gradients[idx%gradients.length];card.style.padding='2px';
   const inner=document.createElement('div');inner.className='bg-white rounded-[1rem] p-6 shadow-neu';card.appendChild(inner);

   if(!activeSearch&&!activeFilter){
     // show full card with header+expandable
     const header=document.createElement('div');header.className='flex justify-between items-start gap-3';
     const h2=document.createElement('h2');h2.className='text-lg font-semibold';h2.innerHTML=hl(pub.title,term);header.appendChild(h2);
     const btn=document.createElement('button');btn.innerHTML=`<svg class='w-6 h-6 text-gray-600 transition-transform' xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'/></svg>`;header.appendChild(btn);
     inner.appendChild(header);

     // panorama preview
     const pano=pub.cards.find(c=>c.title.startsWith('ğŸ“–'));if(pano){const [first,...rest]=pano.contentBlocks[0].content;const prev=document.createElement('div');prev.className='mt-3';if(first)prev.innerHTML=`<p class='font-bold'>${first}</p>`;if(rest.length)prev.innerHTML+=`<ul class='list-disc list-inside space-y-0.5 text-sm'>${rest.map(l=>`<li>${l}</li>`).join('')}</ul>`;inner.appendChild(prev);} 

     // details
     const det=document.createElement('div');det.className='mt-5 space-y-4 hidden';pub.cards.filter(sc=>!sc.title.startsWith('ğŸ“–')).forEach(sc=>{
       const scDiv=document.createElement('div');scDiv.innerHTML=`<h3 class='font-semibold mb-1'>${sc.title}</h3>`+sc.contentBlocks[0].content.map(l=>`<p class='text-sm'>${l}</p>`).join('')+
       `<div class='flex flex-wrap gap-1 mt-1'>${(sc.tags||[]).map(t=>`<span class='tag text-lg'>${t}</span>`).join('')}</div>`;
       det.appendChild(scDiv);
     });inner.appendChild(det);
     btn.onclick=e=>{e.stopPropagation();const open=!det.classList.contains('hidden');det.classList.toggle('hidden');btn.children[0].style.transform=open?'rotate(0deg)':'rotate(180deg)';};
     inner.onclick=e=>{if(e.target.closest('button'))return;window.open(pub.substackLink,'_blank');};
   } else {
     // search/filter mode: no header, show only matched content
     visibleSC.forEach(sc=>{
       const block=document.createElement('div');block.className='mb-4';
       block.innerHTML=`<h3 class='font-semibold mb-1 text-base'>${hl(sc.title,term)}</h3>`+sc.contentBlocks[0].content.map(l=>`<p class='text-sm'>${hl(l,term)}</p>`).join('')+
       `<div class='flex flex-wrap gap-1 mt-1'>${(sc.tags||[]).map(t=>`<span class='tag text-xl sm:text-2xl'>${t}</span>`).join('')}</div>`;
       inner.appendChild(block);
     });
     inner.onclick=()=>window.open(pub.substackLink,'_blank');
   }
   wrap.appendChild(card);
 });
}
</script></body>
</html>